import e,{forwardRef as t,useRef as a,useCallback as o,useEffect as r,useMemo as i}from"react";import n from"classnames";import{isNil as s,noop as c}from"lodash-es";import l from"../Icon/Icon.js";import{useSupportFirefoxLabelClick as m}from"./hooks/useSupportFirefoxLabelClick.js";import d from"../../hooks/useMergeRef.js";import{getTestId as u}from"../../tests/testIds.js";import{ComponentDefaultTestId as p,ComponentVibeId as f}from"../../tests/constants.js";import C from"../Text/Text.js";import b from"./Checkbox.module.scss.js";import h from"../../../icons/dist/react/Remove.js";import v from"../../../icons/dist/react/Check.js";var k=t((function(t,k){var x=t.className,E=t.checkboxClassName,j=t.labelClassName,N=t.ariaLabel,y=t.label,B=t.ariaLabelledBy,F=t.onChange,g=void 0===F?c:F,H=t.checked,w=t.autoFocus,I=t.indeterminate,K=void 0!==I&&I,L=t.disabled,O=void 0!==L&&L,X=t.defaultChecked,A=t.tabIndex,R=t.value,S=void 0===R?"":R,T=t.name,q=void 0===T?"":T,M=t.id,_=t["data-testid"],z=a(null),U=d(k,z),D=a(null),G=o((function(){var e=z.current;e&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.blur()}))}))}),[z]),J=X;s(J)&&s(H)&&(J=!1),r((function(){z.current&&(z.current.indeterminate=K)}),[z,K]);var P=m({inputRef:z}).onClickCapture,Q=i((function(){return N||("string"==typeof y?y:"")}),[N,y]);return e.createElement("label",{className:n(b.wrapper,x),onMouseUp:G,"data-testid":_||u(p.CHECKBOX,M),htmlFor:M,onClickCapture:P},e.createElement("input",{ref:U,id:M,className:b.input,value:S,name:q,type:"checkbox",autoFocus:w,onChange:g,defaultChecked:J,disabled:O,"aria-label":Q,"aria-labelledby":B,checked:H,tabIndex:A}),e.createElement("div",{className:n(b.checkbox,E),ref:D,"data-testid":u(p.CHECKBOX_CHECKBOX,M),"data-vibe":f.CHECKBOX},e.createElement(l,{className:b.icon,iconType:"svg",icon:K?h:v,ignoreFocusStyle:!0,ariaHidden:!0,iconSize:"16"})),!1===y?null:e.createElement(C,{element:"span",type:"text2",className:n(b.label,j),"data-testid":u(p.CHECKBOX_LABEL,M)},y))}));export{k as default};
//# sourceMappingURL=Checkbox.js.map
