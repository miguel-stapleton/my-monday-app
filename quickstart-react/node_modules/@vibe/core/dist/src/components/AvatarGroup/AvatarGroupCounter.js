import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import o,{useRef as t,useCallback as r}from"react";import n from"classnames";import i from"../Counter/Counter.js";import a from"../MenuButton/MenuButton.js";import l from"../Menu/Menu/Menu.js";import s from"../Menu/MenuItem/AvatarMenuItem.js";import u from"./AvatarGroupCounterTooltipContainer.js";import{getStyle as m}from"../../helpers/typesciptCssModulesHelper.js";import{avatarOnClick as c}from"./AvatarGroupHelper.js";import p from"./AvatarGroupCounter.module.scss.js";import{AVATAR_GROUP_COUNTER_AVATAR_SIZE as d}from"./AvatarGroupConstants.js";var v=function(v){var f=v.counterTooltipAvatars,b=void 0===f?[]:f,C=v.counterTooltipCustomProps,x=v.counterTooltipIsVirtualizedList,I=void 0!==x&&x,j=v.size,M=void 0===j?"medium":j,P=v.type,g=v.counterAriaLabel,E=v.disabled,A=v.counterProps||{},z=A.color,L=void 0===z?"light":z,N=A.count,T=void 0===N?b.length:N,h=A.prefix,y=void 0===h?"+":h,G=A.maxDigits,k=void 0===G?3:G,B=A.ariaLabelItemsName,D=void 0===B?"items":B,H=A.noAnimation,O=A.dialogContainerSelector,R=A.tabIndex,S=void 0===R?0:R,V=m(p,null==M?void 0:""+M),_=p[L],U=t(null),q=t(null),w=t(null),F=r((function(){return o.createElement(i,{color:L,count:T,prefix:y,maxDigits:k,ariaLabel:g||"Tab for more ".concat(D),noAnimation:H,counterClassName:n(e({},p.disabled,E)),size:"xs"===M?"xs":void 0})}),[g,D,L,k,y,T,E,H]);return b.length||T?E?o.createElement("div",{ref:w,className:n(p.counterContainer,p.disabled,V,_)},F()):b.some((function(e){var o;return null===(o=e.props)||void 0===o?void 0:o.onClick}))?o.createElement(a,{component:F,zIndex:1,className:n(p.counterContainer,V,_),ariaLabel:g||"".concat(T," additional ").concat(D),dialogContainerSelector:O},o.createElement(l,{id:"menu",size:l.sizes.MEDIUM,className:p.menu,focusItemIndexOnMount:0},b.map((function(e,t){var r,n,i,a;return o.createElement(s,{menuItemProps:{key:(null===(r=e.props)||void 0===r?void 0:r.id)||t+"",title:(null===(i=null===(n=e.props)||void 0===n?void 0:n.tooltipProps)||void 0===i?void 0:i.content)||(null===(a=null==e?void 0:e.props)||void 0===a?void 0:a.ariaLabel),onClick:function(o){return c(o,e.props)}},avatarProps:Object.assign(Object.assign({},e.props),{customSize:d,ariaLabel:"",tabIndex:-1})})})))):o.createElement(u,{focusPrevPlaceholderRef:U,focusNextPlaceholderRef:q,counterContainerRef:w,avatars:b,counterTooltipCustomProps:C,counterTooltipIsVirtualizedList:I,type:P},o.createElement("div",{tabIndex:-1,ref:U}),o.createElement("div",{tabIndex:S,className:n(p.counterContainer,V,_),ref:w},F(),o.createElement("div",{tabIndex:-1,ref:q}))):null};export{v as default};
//# sourceMappingURL=AvatarGroupCounter.js.map
