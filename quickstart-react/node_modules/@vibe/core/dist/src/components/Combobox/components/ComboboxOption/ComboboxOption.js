import{defineProperty as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import e from"classnames";import t,{useRef as n,useEffect as i,useCallback as r,useMemo as l}from"react";import s from"../../../Icon/Icon.js";import c from"../../../Tooltip/Tooltip.js";import a from"../../../../hooks/useIsOverflowing/useIsOverflowing.js";import{keyCodes as m}from"../../../../constants/keyCodes.js";import"../../../../constants/sizes.js";import{getOptionId as p}from"../../helpers.js";import{withStaticProps as f}from"../../../../types/withStaticProps.js";import"../../../../utils/colors-vars-map.js";import{ComboboxOptionIconType as u}from"../ComboboxConstants.js";import{getTestId as d,ComponentDefaultTestId as v}from"../../../../tests/testIds.js";import b from"./ComboboxOption.module.scss.js";var h=f((function(f){var u=f.index,h=f.option,y=f.className,O=f.isActive,I=f.visualFocus,j=f.scrollRef,g=f.scrollOffset,T=void 0===g?100:g,C=f.onOptionClick,E=f.onOptionLeave,k=f.onOptionHover,N=f.optionLineHeight,S=f.shouldScrollWhenActive,w=void 0===S||S,x=f.optionRenderer,L=void 0===x?null:x,P=h.id,H=h.leftIcon,R=h.leftIconType,z=h.rightIcon,A=h.rightIconType,B=h.label,F=h.iconSize,M=void 0===F?18:F,_=h.disabled,W=h.selected,D=h.ariaLabel,K=h.belongToCategory,V=void 0!==K&&K,X=h.tooltipContent,q=n(null),G=n(),J=a({ref:G});i((function(){var o,e=q.current;I&&e&&w&&((null==j?void 0:j.current)&&e?j.current.scrollTop=e.offsetTop-T:null===(o=null==e?void 0:e.scrollIntoView)||void 0===o||o.call(e,{behaviour:"smooth"}))}),[q,I,w,j,T,V]);var Q=function(o,n,i){return"renderer"===n?o(e(b.optionIcon,i)):t.createElement(s,{className:e(b.optionIcon,i),iconType:"font",icon:o,iconSize:M,ignoreFocusStyle:!0})},U=r((function(o){_||C(o,u,h,!0)}),[u,h,C,_]),Y=r((function(o){_||E(o,u,h,!0)}),[u,h,E,_]),Z=r((function(o){_||k(o,u,h,!0)}),[u,h,k,_]),$=r((function(o){o.key!==m.ENTER&&o.key!==m.SPACE||C(o,u,h,!1)}),[C,u,h]);X||(X=J?B:null);var oo=l((function(){return L&&L(h)}),[L,h]),eo=t.createElement(t.Fragment,null,H&&Q(H,R,b.left),t.createElement("div",{ref:G,className:e(b.optionLabel)},B),z&&Q(z,A,""));return t.createElement(c,{content:X,hideWhenReferenceHidden:!0},t.createElement("div",{ref:q,key:P||B,"aria-level":V?2:1,"aria-selected":O,"aria-label":D||B,id:p(P,u),"data-testid":d(v.COMBOBOX_OPTION,u),onMouseEnter:Z,onClick:U,onKeyDown:$,onMouseLeave:Y,className:e(b.comboboxOption,y,o(o(o(o({},b.disabled,_),b.selected,W),b.active,O),b.activeOutline,I)),style:{height:N}},oo||eo))}),{iconTypes:u});export{h as default};
//# sourceMappingURL=ComboboxOption.js.map
