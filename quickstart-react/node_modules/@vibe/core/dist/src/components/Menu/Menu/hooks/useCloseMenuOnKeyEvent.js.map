{"version":3,"file":"useCloseMenuOnKeyEvent.js","sources":["../../../../../../src/components/Menu/Menu/hooks/useCloseMenuOnKeyEvent.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport useKeyEvent from \"../../../../hooks/useKeyEvent\";\nimport { CloseMenuOption } from \"../MenuConstants\";\nimport { keyCodes } from \"../../../../constants\";\n\nconst KEYS = [keyCodes.ESCAPE, keyCodes.LEFT_ARROW, keyCodes.TAB];\n\nexport default function useCloseMenuOnKeyEvent({\n  hasOpenSubMenu,\n  onCloseMenu,\n  ref,\n  onClose,\n  isSubMenu,\n  useDocumentEventListeners\n}: {\n  hasOpenSubMenu: boolean;\n  onCloseMenu: (option: CloseMenuOption) => void;\n  ref: React.RefObject<HTMLElement>;\n  onClose: (option: CloseMenuOption, key?: string) => void;\n  isSubMenu: boolean;\n  useDocumentEventListeners: boolean;\n}) {\n  const onKeyEvent = useCallback(\n    (event: React.KeyboardEvent) => {\n      const key = event.key;\n\n      if (hasOpenSubMenu) return;\n\n      if (key === keyCodes.LEFT_ARROW && !isSubMenu) {\n        return;\n      }\n      if (![keyCodes.ESCAPE, keyCodes.LEFT_ARROW, keyCodes.TAB].includes(key)) {\n        return;\n      }\n\n      onCloseMenu({ propagate: false });\n\n      if (onClose) {\n        onClose({ propagate: false }, key);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    },\n    [onClose, hasOpenSubMenu, onCloseMenu, isSubMenu]\n  );\n\n  useKeyEvent({\n    keys: KEYS,\n    callback: onKeyEvent,\n    ref: useDocumentEventListeners ? undefined : ref\n  });\n}\n"],"names":["KEYS","keyCodes","ESCAPE","LEFT_ARROW","TAB","useCloseMenuOnKeyEvent","_ref","hasOpenSubMenu","onCloseMenu","ref","onClose","isSubMenu","useDocumentEventListeners","onKeyEvent","useCallback","event","key","includes","propagate","preventDefault","stopPropagation","useKeyEvent","keys","callback","undefined"],"mappings":"8LAKA,IAAMA,EAAO,CAACC,EAASC,OAAQD,EAASE,WAAYF,EAASG,KAE/C,SAAUC,EAAsBC,GAc7C,IAbCC,EAAcD,EAAdC,eACAC,EAAWF,EAAXE,YACAC,EAAGH,EAAHG,IACAC,EAAOJ,EAAPI,QACAC,EAASL,EAATK,UACAC,EAAyBN,EAAzBM,0BASMC,EAAaC,GACjB,SAACC,GACC,IAAMC,EAAMD,EAAMC,IAEdT,IAEAS,IAAQf,EAASE,YAAeQ,IAG/B,CAACV,EAASC,OAAQD,EAASE,WAAYF,EAASG,KAAKa,SAASD,KAInER,EAAY,CAAEU,WAAW,IAErBR,IACFA,EAAQ,CAAEQ,WAAW,GAASF,GAC9BD,EAAMI,iBACNJ,EAAMK,mBAET,GACD,CAACV,EAASH,EAAgBC,EAAaG,IAGzCU,EAAY,CACVC,KAAMtB,EACNuB,SAAUV,EACVJ,IAAKG,OAA4BY,EAAYf,GAEjD"}