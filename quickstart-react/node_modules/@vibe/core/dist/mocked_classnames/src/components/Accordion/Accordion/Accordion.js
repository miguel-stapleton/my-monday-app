import{slicedToArray as e,toConsumableArray as o,defineProperty as n}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import a from"classnames";import t,{forwardRef as r,useRef as i,useState as s,useMemo as l,useCallback as c}from"react";import d from"../../../hooks/useMergeRef.js";import m from"./Accordion.module.scss.js";import{ComponentVibeId as u}from"../../../tests/constants.js";var p="monday-accordion";var f=r((function(r,f){var v=r.children,C=void 0===v?null:v,b=r.allowMultiple,j=void 0!==b&&b,g=r["data-testid"],h=void 0===g?p:g,x=r.defaultIndex,A=void 0===x?[]:x,O=r.className,y=void 0===O?"":O,E=r.id,I=i(null),N=d(f,I),k=s(A),M=e(k,2),P=M[0],R=M[1],_=l((function(){return t.Children.toArray(C)}),[C]),w=c((function(e){return P.includes(e)}),[P]),B=c((function(e){if(j){var n=o(P);if(w(e)){var a=n.indexOf(e);a>-1&&n.splice(a,1)}else n.push(e);R(n)}else w(e)?R([]):R([e])}),[w,P,j]),D=l((function(){return t.Children.map(_,(function(e,o){var r,i,s,l=Object.assign({},null==e?void 0:e.props),c=(r=o,s=E,(i=l).id?i.id:s?"".concat(s,"--item-").concat(r):"".concat(p,"--item-").concat(r));return t.cloneElement(e,Object.assign(Object.assign({},l),{id:c,onClickAccordionCallback:function(){B(o)},open:w(o),expandCollapseComponentClassName:a(m.accordionItemExpandCollapse,n({},m.accordionItemExpandCollapseLast,o===_.length-1))}))}))}),[_,E,w,B]);return t.createElement("div",{ref:N,className:a(m.accordion,y),"data-testid":h,"data-vibe":u.ACCORDION,id:E},_&&D)}));export{f as default};
//# sourceMappingURL=Accordion.js.map
