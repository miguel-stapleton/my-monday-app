{"version":3,"file":"FormattedNumber.js","sources":["../../../../../src/components/FormattedNumber/FormattedNumber.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { useMemo, forwardRef } from \"react\";\nimport { formatNumber, formatNumberConsts } from \"../../helpers/textManipulations\";\nimport { validateValue } from \"./FormattedNumberHelpers\";\nimport { VibeComponentProps, withStaticProps } from \"../../types\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport styles from \"./FormattedNumber.module.scss\";\n\nexport interface FormattedNumberProps extends VibeComponentProps {\n  /**\n   * The numeric value to format.\n   */\n  value?: number | string;\n  /**\n   * The text displayed before the number.\n   */\n  prefix?: string;\n  /**\n   * The text displayed after the number.\n   */\n  suffix?: string;\n  /**\n   * The text displayed when no value is provided.\n   */\n  emptyPlaceHolder?: string;\n  /**\n   * The number of decimal places to display (0 ~ 20).\n   */\n  decimalPrecision?: number;\n  /**\n   * If true, formats the number into a compact notation.\n   */\n  compact?: boolean;\n  /**\n   * The locale used for formatting (Unicode BCP 47 locale identifier).\n   */\n  local?: string;\n  /**\n   * If true, reverses the order of the prefix and suffix.\n   */\n  rtl?: boolean;\n}\n\nconst FormattedNumber = forwardRef(\n  (\n    {\n      value,\n      className,\n      local = formatNumberConsts.DEFAULT_LOCAL,\n      prefix,\n      suffix,\n      emptyPlaceHolder = \"N/A\",\n      decimalPrecision = 2,\n      compact = true,\n      rtl,\n      id,\n      \"data-testid\": dataTestId\n    }: FormattedNumberProps,\n    ref: React.ForwardedRef<HTMLDivElement>\n  ) => {\n    const renderSuffix = useMemo(() => {\n      if (!suffix) return null;\n\n      return <span className={cx(styles.suffix)}>{suffix}</span>;\n    }, [suffix]);\n\n    const renderPrefix = useMemo(() => {\n      if (!prefix) return null;\n\n      return <span className={cx(styles.prefix)}>{prefix}</span>;\n    }, [prefix]);\n\n    const calculatedValue = useMemo(() => {\n      return formatNumber(Number(value), {\n        local,\n        precision: decimalPrecision,\n        isCompact: compact\n      });\n    }, [value, decimalPrecision, local, compact]);\n\n    if (validateValue(value)) {\n      return <span>{emptyPlaceHolder}</span>;\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={className}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.FORMATTED_NUMBER, id)}\n      >\n        {rtl ? renderSuffix : renderPrefix}\n        <span>{calculatedValue}</span>\n        {rtl ? renderPrefix : renderSuffix}\n      </div>\n    );\n  }\n);\n\ninterface FormattedNumberStaticProps {\n  formatNumber: typeof formatNumber;\n  localFallBack: string;\n}\n\nexport default withStaticProps<FormattedNumberProps, FormattedNumberStaticProps>(FormattedNumber, {\n  formatNumber: formatNumber,\n  localFallBack: formatNumberConsts.DEFAULT_LOCAL\n});\n"],"names":["withStaticProps","forwardRef","_ref","ref","value","className","_ref$local","local","formatNumberConsts","DEFAULT_LOCAL","prefix","suffix","_ref$emptyPlaceHolder","emptyPlaceHolder","_ref$decimalPrecision","decimalPrecision","_ref$compact","compact","rtl","id","dataTestId","renderSuffix","useMemo","React","createElement","cx","styles","renderPrefix","calculatedValue","formatNumber","Number","precision","isCompact","validateValue","getTestId","ComponentDefaultTestId","FORMATTED_NUMBER","localFallBack"],"mappings":"0cA2CA,IA6DeA,EAAAA,EA7DSC,GACtB,SAAAC,EAcEC,GACE,IAbAC,EAAKF,EAALE,MACAC,EAASH,EAATG,UAASC,EAAAJ,EACTK,MAAAA,OAAK,IAAAD,EAAGE,EAAmBC,cAAaH,EACxCI,EAAMR,EAANQ,OACAC,EAAMT,EAANS,OAAMC,EAAAV,EACNW,iBAAAA,OAAmB,IAAHD,EAAG,MAAKA,EAAAE,EAAAZ,EACxBa,iBAAAA,OAAmB,IAAHD,EAAG,EAACA,EAAAE,EAAAd,EACpBe,QAAAA,OAAU,IAAHD,GAAOA,EACdE,EAAGhB,EAAHgB,IACAC,EAAEjB,EAAFiB,GACeC,EAAUlB,EAAzB,eAIImB,EAAeC,GAAQ,WAC3B,OAAKX,EAEEY,EAAMC,cAAA,OAAA,CAAAnB,UAAWoB,EAAGC,EAAOf,SAAUA,GAFxB,IAGtB,GAAG,CAACA,IAEEgB,EAAeL,GAAQ,WAC3B,OAAKZ,EAEEa,EAAMC,cAAA,OAAA,CAAAnB,UAAWoB,EAAGC,EAAOhB,SAAUA,GAFxB,IAGtB,GAAG,CAACA,IAEEkB,EAAkBN,GAAQ,WAC9B,OAAOO,EAAaC,OAAO1B,GAAQ,CACjCG,MAAAA,EACAwB,UAAWhB,EACXiB,UAAWf,GAEd,GAAE,CAACb,EAAOW,EAAkBR,EAAOU,IAEpC,OAAIgB,EAAc7B,GACTmB,EAAAC,cAAA,OAAA,KAAOX,GAIdU,uBACEpB,IAAKA,EACLE,UAAWA,EACXc,GAAIA,EAAE,cACOC,GAAcc,EAAUC,EAAuBC,iBAAkBjB,IAE7ED,EAAMG,EAAeM,EACtBJ,EAAAC,cAAA,OAAA,KAAOI,GACNV,EAAMS,EAAeN,EAG5B,IAQgG,CAChGQ,aAAcA,EACdQ,cAAe7B,EAAmBC"}